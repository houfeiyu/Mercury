/* 2017-12-12 13:02:29 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683】 */
L.widget.bindClass(L.widget.BaseWidget.extend({map:null,options:{view:{type:"window",url:"view.html",windowOptions:{width:240,height:160}}},measureTool:null,create:function(){this.measureTool=new L.mars.MeasureTool({map:this.map,isactivate:!1})},viewWindow:null,winCreateOK:function(e,i){this.viewWindow=i},activate:function(){this.measureTool.activate()},disable:function(){this.measureTool.disable()},clearDraw:function(){this.viewWindow.showResult(""),this.measureTool.clear()},drawPolyline:function(){var e=this;this.measureTool.measureLength({unit:function(){return e.viewWindow.getLengtchDanWei()},showResult:function(i,t){e.viewWindow.showResult(i)}})},drawPolygon:function(){var e=this;this.measureTool.measureArea({unit:function(){return e.viewWindow.getAreaDanWei()},showResult:function(i,t){e.viewWindow.showResult(i)}})},updateResultLengthByDw:function(){var e=this.viewWindow.getLengtchDanWei();return this.measureTool.updateLengthUnit(e),this},updateResultAreaByDw:function(){var e=this.viewWindow.getAreaDanWei();return this.measureTool.updateAreaUnit(e),this}}));