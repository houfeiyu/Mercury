/* 2017-12-12 13:02:36 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683】 */
function tab2plot(){$("#tab_attr").addClass("disabled"),$("#tab_latlng").addClass("disabled"),$("#tab_plot").click()}function tab2attr(){$("#tab_attr").removeClass("disabled"),$("#tab_latlng").removeClass("disabled"),$("#tab_plot").hasClass("cur")&&$("#"+last_attr_tab).click()}function changeOpenShowHide(){var e=$(this).siblings(),s=$(this).children(".tree_icon");e.toggle(),e.is(":hidden")?s.html("+"):s.html("-")}function refHeight(){$(".mp_tab_card").height($(".mp_box").height()-$(".mp_head").height()-1),$(".mp_tree").height($(".mp_tab_card").height()-32),$(".mp_mark").height($(".mp_tab_card").height()-80)}$(function(){$(window).resize(refHeight),refHeight(),$(".mp_icon_close").click(function(){$(this).parent().parent(".mp_box").hide()}),$(".mp_tab_tit li").click(function(){if($(this).hasClass("cur")||$(this).hasClass("disabled"))return!1;var e=$(this),s=e.index();e.addClass("cur").siblings("li").removeClass("cur"),e.parent().siblings(".mp_tab_con").children().eq(s).addClass("cur").siblings().removeClass("cur");var i=$(this).attr("id");"tab_plot"!=i&&(last_attr_tab=i)}),$(".open").click(changeOpenShowHide)});var last_attr_tab="tab_attr";!function(e){var s={select:"mp_select",select_text:"mp_select_text",select_ul:"mp_select_ul"};e.fn.extend({select:function(i){var t=e.extend({},s,i);return this.each(function(){var s=e(this);void 0!==s.data("value")&&""!==s.data("value")&&s.val(s.data("value"));var i=[];i.push('<div class="'+s.attr("class")+'">'),i.push('<div class="'+t.select_text+'">'+s.find(":selected").text()+"</div>"),i.push('<ul class="'+t.select_ul+'">'),s.children("option").each(function(){var t=e(this);s.data("value")==t.val()?i.push('<li data-value="'+t.val()+'">'+t.text()+"</li>"):i.push('<li data-value="'+t.val()+'">'+t.text()+"</li>")}),i.push("</ul>"),i.push("</div>");var c=e(i.join("")),a=c.find("."+t.select_text),n=c.find("."+t.select_ul);s.after(c),s.hide(),c.click(function(s){e(this).toggleClass("mp_selected"),e(this).find("."+t.select_ul).slideToggle().end().siblings("div."+t.select).find("."+t.select_ul).slideUp(),s.stopPropagation()}),e("body").click(function(){n.slideUp()}),n.on("click","li",function(){var i=e(this),t=i.addClass("selecton").siblings("li").removeClass("selecton").end().data("value").toString();t!==s.attr("data-value")&&(a.text(i.text()),s.attr("data-value",t),s.change())})})},checkbox:function(){return this.each(function(){var s=e(this),i=s.siblings("input");1==i.prop("disabled")?s.addClass("pnui-check-disbaled"):1==i.prop("checked")?s.addClass("pnui-checked"):s.removeClass("pnui-checked"),s.on("click",function(){return 1!=i.prop("disabled")&&void(s.hasClass("pnui-checked")?(i.removeAttr("checked"),s.removeClass("pnui-checked")):(i.attr("checked","checked"),s.addClass("pnui-checked")))}),e(".checkall").click(function(){var s=e(this),i=s.parents(".checkallbox"),t=i.find(".pnui-chkbox");s.toggleClass("pnui-checked"),t.each(function(){e(this).toggleClass("pnui-checked")}),s.hasClass("pnui-checked")?(t.siblings("input").attr("checked","checked"),t.addClass("pnui-checked")):(t.siblings("input").removeAttr("checked"),t.removeClass("pnui-checked"))})})},radio:function(){return this.each(function(){var s=e(this);1==s.children("input").prop("disabled")?s.children(".pnui-rdobox").removeClass().addClass("pnui-rdobox pnui-radio-disbaled"):1==s.children("input").prop("checked")?(s.siblings().children("input").removeAttr("checked"),s.siblings().children(".pnui-rdobox").removeClass("pnui-checked"),s.children(".pnui-rdobox").addClass("pnui-checked")):(s.siblings().children("input").prop("checked","checked"),s.siblings().children(".pnui-rdobox").addClass("pnui-checked"),s.children(".pnui-rdobox").removeClass("pnui-checked")),s.on("click",function(){var i=e(this);return 1!=i.children("input").prop("disabled")&&void(1==i.children("input").prop("checked")?(s.siblings().children("input").prop("checked","checked"),s.siblings().children(".pnui-rdobox").addClass("pnui-checked"),s.children("input").removeAttr("checked"),s.children(".pnui-rdobox").removeClass("pnui-checked")):(s.siblings().children("input").removeAttr("checked"),s.siblings().children(".pnui-rdobox").removeClass("pnui-checked"),s.children("input").prop("checked","checked"),s.children(".pnui-rdobox").addClass("pnui-checked")))})})},progress:function(s){var i={progress:"puiprogress",progress_bg:"puiprogress_bg",progress_btn:"puiprogress_btn",progress_bar:"puiprogress_bar",progress_text:"puiprogress_text"};return this.each(function(){var t=e(this),c=[];c.push('<div class="'+i.progress+'">'),c.push('<div class="'+i.progress_bg+'">'),c.push('<div class="'+i.progress_bar+'"></div>'),c.push("</div>"),c.push('<div class="'+i.progress_btn+'"></div>'),c.push('<div class="'+i.progress_text+'">'+t.val()+"%</div>"),c.push("</div>");var a=e(c.join("")),n=a.find("."+i.progress_bg),l=a.find("."+i.progress_btn),r=a.find("."+i.progress_bar),d=a.find("."+i.progress_text);t.after(a),t.hide();var h=!1,o=0,p=0,u=0;a.css("width",s);var v=Number(t.val());p=s*v/100,l.css("left",p),r.width(p),d.html(parseInt(v)+"%"),l.mousedown(function(e){o=e.pageX-p,h=!0}),e(document).mouseup(function(){h=!1}),a.mousemove(function(e){if(h){p=e.pageX-o,p<=0?p=0:p>s&&(p=s),l.css("left",p),r.width(p);var i=parseInt(p/s*100);d.html(i+"%"),t.val(i),t.change()}}),n.click(function(e){if(!h){u=n.offset().left,p=e.pageX-u,p<=0?p=0:p>s&&(p=s),l.css("left",p),r.animate({width:p},s);var i=parseInt(p/s*100);d.html(i+"%"),t.val(i),t.change()}})})}})}(jQuery);